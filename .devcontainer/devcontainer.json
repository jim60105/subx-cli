// For format details, see https://aka.ms/devcontainer.json. For config options, see the
{
	"name": "Rust",
	"image": "mcr.microsoft.com/devcontainers/rust:1-1-bookworm",

	// Use 'mounts' to make the cargo cache persistent in a Docker Volume.
	"mounts": [
		{
			"source": "devcontainer-cargo-cache-${devcontainerId}",
			"target": "/usr/local/cargo",
			"type": "volume"
		}
	],

	// Use 'postCreateCommand' to run commands after the container is created.
	"postCreateCommand": "cd ~ && git clone --depth 1 --filter=blob:none --sparse https://github.com/openai/codex.git && git -C codex sparse-checkout set codex-rs && cargo install --path codex/codex-rs/cli && rustup default stable && rustup component add clippy && rustup component add rustfmt",

	"containerEnv": {
		"GIT_AUTHOR_NAME": "ðŸ¤– Codex-CLI",
		"GIT_AUTHOR_EMAIL": "codex-cli[bot]@users.noreply.github.com"
	}
}
